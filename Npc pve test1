local a = {
    b = 150,
    c = true,
    d = true
}

local e = game:GetService("Players")
local f = game:GetService("RunService")
local g = e.LocalPlayer
local h = g:GetMouse()
local i = workspace.CurrentCamera

local j = Instance.new("ScreenGui", g:FindFirstChildOfClass("PlayerGui"))
j.Name = " "
j.ResetOnSpawn = false

local k = Instance.new("Frame", j)
k.Size = UDim2.new(0, 160, 0, 110)
k.Position = UDim2.new(0.1, 0, 0.4, 0)
k.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
k.BorderSizePixel = 0
k.Active = true
k.Draggable = true

Instance.new("UICorner", k).CornerRadius = UDim.new(0, 8)

local function l(m, n, o)
    local p = Instance.new("TextButton", k)
    p.Size = UDim2.new(0.9, 0, 0, 35)
    p.Position = UDim2.new(0.05, 0, 0, n)
    p.BackgroundColor3 = a[o] and Color3.fromRGB(0, 150, 0) or Color3.fromRGB(60, 60, 60)
    p.Text = m .. ": " .. (a[o] and "ON" or "OFF")
    p.TextColor3 = Color3.new(1, 1, 1)
    p.Font = Enum.Font.SourceSans
    p.TextSize = 14
    Instance.new("UICorner", p)

    p.MouseButton1Click:Connect(function()
        a[o] = not a[o]
        p.Text = m .. ": " .. (a[o] and "ON" or "OFF")
        p.BackgroundColor3 = a[o] and Color3.fromRGB(0, 150, 0) or Color3.fromRGB(60, 60, 60)
    end)
end

l("Silent", 40, "c")
l("Recoil", 80, "d")

local q = {}
task.spawn(function()
    while task.wait(0.5) do
        local r = {}
        for _, s in ipairs(workspace:GetChildren()) do
            if s:IsA("Model") and (s.Name == "Male" or s.Name == "Zombie" or s.Name == "Zombies") then
                local t = s:FindFirstChild("Head")
                local u = s:FindFirstChildOfClass("Humanoid")
                if t and u and u.Health > 0 then
                    table.insert(r, t)
                end
            end
        end
        q = r
    end
end)

local v = getrawmetatable(game)
local w = v.__index
setreadonly(v, false)

v.__index = newcclosure(function(self, x)
    if not checkcaller() and a.c and self == h and (x == "Hit" or x == "Target") then
        local y = nil
        local z = a.b

        for _, A in ipairs(q) do
            if A and A.Parent then
                local B, C = i:WorldToViewportPoint(A.Position)
                if C then
                    local D = (Vector2.new(h.X, h.Y) - Vector2.new(B.X, B.Y)).Magnitude
                    if D < z then
                        y = A
                        z = D
                    end
                end
            end
        end

        if y then
            return (x == "Hit" and y.CFrame or y)
        end
    end
    return w(self, x)
end)
setreadonly(v, true)

f.RenderStepped:Connect(function()
    if a.d then
        local E = i:FindFirstChild("Spring") or i:FindFirstChild("Recoil")
        if E then
            if E:IsA("Vector3Value") then
                E.Value = Vector3.zero
            elseif E:IsA("NumberValue") then
                E.Value = 0
            end
        end
    end
end)
